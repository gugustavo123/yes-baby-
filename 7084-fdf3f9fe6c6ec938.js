"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7084],{57084:function(e,r,t){t.d(r,{Z:function(){return U}});var n=t(15861),i=t(4942),a=t(87757),s=t.n(a),o=t(67294),d=t(41120),l=t(14953),c=t(43832),u=t(82175),p=t(41749),m=t(39100),f=t(16970),x=t(74902),g=t(48319),h=t(28428),b=t(85893),j=(0,d.Z)((function(e){return{hide:{display:"none"},uploadButton:{display:"flex",justifyContent:"space-between",border:"light"===e.palette.type?"1px solid #c6c6c6":"1px solid #737373",borderRadius:"5px",padding:"10px",cursor:"pointer","& a":{color:"inherit"}},icon:{marginLeft:"0.5rem"},list:{margin:0,listStyle:"none",padding:0},deleteIcon:{cursor:"pointer"}}})),v=function(e){var r=e.uploadedFiles,t=e.setUploadedFiles,n=j(),i=(0,o.useState)(!1),a=i[0],s=i[1];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(p.Z,{item:!0,xs:12,sm:4,children:[(0,b.jsx)("input",{className:n.hide,id:"fileUpload",type:"file",multiple:!0,accept:".png,.jpg,.jpeg,.pdf",onChange:function(e){!function(e){var n=(0,x.Z)(r),i=!1;e.some((function(e){if(-1===n.findIndex((function(r){return r.name===e.name}))&&n.push(e),3===n.length&&s(!0),n.length>3)return alert("N\xf9mero m\xe1ximo de files: ".concat(3)),s(!1),i=!0,!0})),i||t(n)}(Array.prototype.slice.call(e.target.files))},disabled:a}),(0,b.jsxs)("label",{htmlFor:"fileUpload",className:n.uploadButton,style:{opacity:"".concat(a?"0.5":"1"),cursor:"".concat(a?"not-allowed":"pointer")},children:[(0,b.jsx)("a",{children:"Anexar Arquivo"}),(0,b.jsx)(g.Z,{className:n.icon})]}),(0,b.jsx)("small",{children:"M\xe1ximo 3 arquivos (20MB)"})]}),(0,b.jsx)(p.Z,{item:!0,xs:12,sm:8,children:(0,b.jsx)("ul",{className:n.list,children:r.map((function(e){return(0,b.jsxs)("li",{children:[e.name,(0,b.jsx)(h.Z,{onClick:function(){return function(e){var n=(0,x.Z)(r).filter((function(r){return r.name!==e}));t(n),s(!1)}(e.name)},className:n.deleteIcon})]})}))})})]})},Z=t(282),y=t(74231),N=t(11752),w=t(94924),I=t(96394),S=t(64436),O=t(85639),k=(0,d.Z)((function(e){return{subject:{width:"100%",marginTop:"1rem"},select:(0,i.Z)({},e.breakpoints.down("sm"),{paddingLeft:"1rem !important"})}})),E=function(e){var r=e.selectedGroupId,t=e.setSelectedGroupId,n=e.SUBJECTS,i=k(),a=(0,u.u6)().setFieldValue;(0,o.useEffect)((function(){a("groupId",r)}),[r]);return(0,b.jsx)(p.Z,{item:!0,xs:12,children:(0,b.jsxs)(S.Z,{size:"small",variant:"outlined",className:i.subject,required:!0,children:[(0,b.jsx)(I.Z,{id:"select-subject-label",children:"Assunto"}),(0,b.jsx)(w.Z,{size:"small",labelId:"select-subject-label",id:"select-subject",value:r,onChange:function(e){t(e.target.value)},label:"Assunto",className:i.select,children:n.map((function(e){return(0,b.jsx)(O.Z,{value:e.groupId,children:e.description})}))})]})})},P=t(25617),_=t(8936),q={success:"Ticket criado com sucesso! Nossa equipe responder\xe1 em breve.",error:"Erro ao criar o ticket. Por favor, tente novamente."},A=(0,d.Z)((function(){return{alert:{width:"100%",display:"flex",justifyContent:"center"}}})),C=function(e){var r=e.alert,t=A();return(0,b.jsx)("div",{className:t.alert,children:r&&(0,b.jsx)(_.Z,{severity:r,children:q[r]})})},B=t(95477),F=t(34853),R=t(48764).Buffer,T=(0,d.Z)((function(e){var r;return{headerMessage:(0,i.Z)({width:"650px",margin:"0 auto",marginBottom:"1rem"},e.breakpoints.down("sm"),{width:"100%"}),wrapper:(r={padding:"2.5rem",borderBottom:"1px solid #737373"},(0,i.Z)(r,e.breakpoints.down("sm"),{padding:"1.5rem 0"}),(0,i.Z)(r,"& div",(0,i.Z)({},e.breakpoints.down("sm"),{paddingRight:0,paddingLeft:0})),r),container:(0,i.Z)({width:"700px"},e.breakpoints.down("sm"),{width:"100%"}),subject:{width:"100%",marginTop:"1rem"},gridItem:{padding:"0 8px"},wrapperButton:{width:"100%",margin:"1rem 0.5rem","& button":{width:"100%"}},message:{marginLeft:"0.5rem"}}})),D=[22000164705,22000162949],G=y.Ry().shape({firstName:y.Z_().required("Nome \xe9 Obrigat\xf3rio"),lastName:y.Z_().required("Sobrenome \xe9 Obrigat\xf3rio"),email:y.Z_().required("Email \xe9 Obrigat\xf3rio"),groupId:y.Rx().required("Assunto \xe9 Obrigat\xf3rio"),description:y.Z_().required("Mensagem n\xe3o pode estar em branco"),orderNumber:y.Rx().when("groupId",{is:function(e){return D.includes(e)},then:y.Rx().required("N\xfamero do pedido \xe9 obrigat\xf3rio"),otherwise:y.Rx()})}),M=[{groupId:22000135510,description:"Atendimento"},{groupId:22000164705,description:"Devolu\xe7\xe3o ou Cancelamento"},{groupId:22000164842,description:"Garantia Pcs"},{groupId:22000165770,description:"Garantia Pe\xe7as"},{groupId:22000165236,description:"Garantia Pichau Gaming"},{groupId:22000164710,description:"Or\xe7amento"},{groupId:22000162949,description:"Transporte"}],U=function(e){var r=e.orderId,t=e.insideModal,i=T(),a=(0,P.v9)((function(e){return e.auth})).customer,d=(0,o.useRef)(null),x=(0,o.useState)([]),g=x[0],h=x[1],j=(0,o.useState)(""),y=j[0],w=j[1],I=(0,o.useState)(""),S=I[0],O=I[1],k=(0,o.useState)(!1),_=k[0],q=k[1],A=(0,N.default)().publicRuntimeConfig,U=A.NEXT_PUBLIC_FRESHDESK_DOMAIN,L=A.NEXT_PUBLIC_FRESHDESK_API_KEY,z={firstName:a.firstname||"",lastName:a.lastname||"",email:a.email,phone:"",groupId:"",description:"",orderNumber:r||""},W=function(){var e=(0,n.Z)(s().mark((function e(r,t){var n,i,a,o,l,c,u,p,m,f,x,b,j;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.resetForm,e.next=3,d.current.executeAsync();case 3:if(e.sent){e.next=6;break}return e.abrupt("return",null);case 6:return q(!0),i=r.firstName,a=r.lastName,o=r.email,l=r.phone,c=r.groupId,u=r.description,p=r.orderNumber,m="https://".concat(U,".freshdesk.com/api/v2/tickets"),f=M.find((function(e){return e.groupId===c})).description,(x=new FormData).append("name","".concat(i," ").concat(a)),x.append("email",o),x.append("phone",l),x.append("group_id",c),x.append("subject",f),x.append("description",u),x.append("status",2),x.append("priority",1),g&&g.forEach((function(e){return x.append("attachments[]",e)})),p&&D.includes(c)&&x.append("custom_fields[pedido]",parseInt(p)),e.next=23,fetch(m,{method:"POST",headers:{Authorization:"Basic ".concat(R.from("".concat(L,":x")).toString("base64"))},body:x});case 23:return b=e.sent,e.next=26,b.json();case 26:null!==(j=e.sent)&&void 0!==j&&j.id?(O("success"),q(!1),w(""),h([]),n()):(q(!1),O("error")),setTimeout((function(){O("")}),5e3);case 29:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}();return(0,b.jsx)("div",{className:i.wrapper,style:{borderBottom:t&&"none"},children:(0,b.jsxs)(c.Z,{children:[(0,b.jsx)("p",{className:i.headerMessage,children:"Por favor, utilize o formul\xe1rio abaixo para compartilhar suas d\xfavidas, sugest\xf5es ou solicita\xe7\xf5es de suporte. Nossa equipe responder\xe1 o mais r\xe1pido poss\xedvel."}),(0,b.jsx)(u.J9,{initialValues:z,validationSchema:G,onSubmit:W,className:i.formik,children:function(e){var r=e.errors,t=e.isSubmitting;return(0,b.jsxs)(u.l0,{className:i.form,children:[(0,b.jsx)(c.Z,{className:i.container,children:(0,b.jsxs)(p.Z,{container:!0,spacing:2,children:[(0,b.jsx)(E,{selectedGroupId:y,setSelectedGroupId:w,SUBJECTS:M}),(0,b.jsx)(p.Z,{item:!0,xs:12,sm:6,style:{padding:"0 8px"},children:(0,b.jsx)(u.gN,{component:m.Z,name:"firstName",type:"text",label:"Nome",variant:"outlined",margin:"normal",fullWidth:!0,required:!0,disabled:t})}),(0,b.jsx)(p.Z,{item:!0,xs:12,sm:6,style:{padding:"0 8px"},children:(0,b.jsx)(u.gN,{component:m.Z,name:"lastName",type:"text",label:"Sobrenome",variant:"outlined",margin:"normal",fullWidth:!0,required:!0,disabled:t})}),(0,b.jsx)(p.Z,{item:!0,xs:12,sm:6,style:{padding:"0 8px"},children:(0,b.jsx)(u.gN,{component:m.Z,name:"email",type:"text",label:"Email",variant:"outlined",margin:"normal",fullWidth:!0,required:!0,disabled:t})}),(0,b.jsx)(p.Z,{item:!0,xs:12,sm:6,style:{padding:"0 8px"},children:(0,b.jsx)(u.gN,{component:m.Z,name:"phone",type:"text",label:"Celular / Telefone",variant:"outlined",margin:"normal",disabled:t,fullWidth:!0,InputProps:{inputComponent:f.Z}})}),D.includes(y)&&(0,b.jsx)(p.Z,{item:!0,xs:12,style:{padding:"0 8px"},children:(0,b.jsx)(u.gN,{component:m.Z,name:"orderNumber",type:"text",label:"N\xfamero do Pedido",variant:"outlined",margin:"normal",fullWidth:!0,required:!0,disabled:t})}),(0,b.jsx)(p.Z,{item:!0,xs:12,children:(0,b.jsx)(u.gN,{component:l.nv,name:"description",multiline:!0,type:"textarea",label:"Mensagem",variant:"outlined",disabled:t,required:!0,margin:"normal",rows:10,fullWidth:!0,placeholder:"Digite sua mensagem..."})}),(0,b.jsx)(v,{uploadedFiles:g,setUploadedFiles:h,errors:r}),(0,b.jsx)("div",{className:i.wrapperButton,children:(0,b.jsx)(Z.Z,{variant:"contained",color:"primary",size:"large",type:"submit",disabled:_,children:_?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(B.Z,{size:15,color:"inherit"})," ",(0,b.jsx)("span",{className:i.message,children:"Enviando mensagem..."})]}):"Enviar Mensagem"})}),(0,b.jsx)(C,{alert:S})]})}),(0,b.jsx)(F.Z,{ref:d,sitekey:"6LeFLEolAAAAAKdl2ki8RwGaXYu09UuFtZ3IRcJy",size:"invisible"})]})}})]})})}},16970:function(e,r,t){var n=t(4942),i=(t(67294),t(78732)),a=t(85893);function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}r.Z=function(e){return(0,a.jsx)(i.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({mask:"(99) 9999-99999"},e))}}}]);