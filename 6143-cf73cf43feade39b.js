"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6143],{56143:function(e,t,n){n.d(t,{Z:function(){return q}});var r=n(15861),i=n(87757),a=n.n(i),s=n(67294),o=n(25617),l=n(11163),c=n(82175),m=n(30553),u=n(80797),d=n(282),p=n(41749),h=n(41120),x=n(85639),f=n(30585),g=n(20067),b=n(28270),Z=n(17812),j=n(7397),v=n(61666),y=n(66123),C=n(57141),P=n(89606),w=n(39100),N=n(57402),_=n(68e3),k=n(34853),O=n(11752),E=n(74231),S=n(69697);E.kM(E.Z_,"cpfcnpj",(function(e,t){return this.transform((function(e,t){return!1}))}));var A=E.Ry().shape({firstname:E.Z_().required("Nome \xe9 obrigat\xf3rio"),lastname:E.Z_().required("Sobrenome \xe9 obrigat\xf3rio"),taxvat:E.Z_().when("tipopessoa",{is:function(e){return 1==e},then:E.Z_().matches(/([0-9]{2}[\.]?[0-9]{3}[\.]?[0-9]{3}[\/]?[0-9]{4}[-]?[0-9]{2})|([0-9]{3}[\.]?[0-9]{3}[\.]?[0-9]{3}[-]?[0-9]{2})$/,"CPF em formato inv\xe1lido").test({test:function(e){return S.wn.isValid(e)},message:"CPF inv\xe1lido"}).typeError("CPF Inv\xe1lido"),otherwise:E.Z_().matches(/([0-9]{2}[\.]?[0-9]{3}[\.]?[0-9]{3}[\/]?[0-9]{4}[-]?[0-9]{2})|([0-9]{3}[\.]?[0-9]{3}[\.]?[0-9]{3}[-]?[0-9]{2})$/,"CNPJ em formato inv\xe1lido").test({test:function(e){return S.s3.isValid(e)},message:"CNPJ inv\xe1lido"}).typeError("CNPJ Inv\xe1lido")}).required("Informe um CPF ou CNPJ v\xe1lido!"),newPassword:E.Z_().required("Senha \xe9 obrigat\xf3rio"),empresa:E.Z_().when("tipopessoa",{is:function(e){return 2==e},then:E.Z_().required("Raz\xe3o Social \xe9 obrigat\xf3rio"),otherwise:E.Z_()}),ie:E.Z_().when("tipopessoa",{is:function(e){return 2==e},then:E.Z_().required("IE \xe9 obrigat\xf3rio"),otherwise:E.Z_()}),email:E.Z_().email().required("E-mail \xe9 obrigat\xf3rio").typeError("E-mail \xe9 inv\xe1lido!"),tipopessoa:E.Z_().required("Campo obrigat\xf3rio"),terms:E.O7().oneOf([!0,1],"Voc\xea deve aceitar os termos da Pichau para criar sua conta.")}),F=n(85893),I=(0,O.default)().publicRuntimeConfig.NEXT_PUBLIC_ENABLE_RECAPTCHA,W=(0,h.Z)((function(e){return{form:{width:"100%",marginTop:e.spacing(2)},submit:{margin:e.spacing(3,0,2)},ieCheckWrapper:{position:"absolute",right:10,top:25,display:"flex",borderRadius:5,fontSize:11,alignItems:"center",padding:"1px 2px"}}})),q=function(e){var t=e.redirectTo,n=void 0===t?"/account":t,i=W(),h=(0,o.I0)(),O=(0,l.useRouter)(),E=(0,s.useState)(!1),S=E[0],q=E[1],R=(0,s.useState)(!1),J=R[0],T=R[1],D=(0,s.useRef)(null),z=(0,o.v9)((function(e){return e.auth})),L=z.isAuth,V=z.isCheckingAuth,U=z.isCreatingUser,B=z.error,G=(0,C.Z)().t,Q=(0,s.useCallback)((function(e){q(!S),e("ie",S?"":"ISENTO")}),[S]),X=(0,s.useCallback)(function(){var e=(0,r.Z)(a().mark((function e(t,r){var i,s,o,l,c,m,u,d,p,x,f,g,b,Z;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.firstname,s=t.lastname,o=t.taxvat,l=t.rg,c=t.ie,m=t.tipopessoa,u=t.email,d=t.newPassword,p=t.is_subscribed,x=t.nomefantasia,f=void 0===x?"":x,g=t.empresa,b=void 0===g?"":g,L||U){e.next=7;break}if(1!=I){e.next=6;break}return e.next=5,D.current.executeAsync();case 5:Z=e.sent;case 6:h((0,P.o1)({firstname:i,lastname:s,taxvat:o,rg:l,ie:c,nomefantasia:f,empresa:b,tipopessoa:m,email:u,password:d,is_subscribed:p,redirectTo:n,router:O,recaptchaToken:Z,cb:function(){return r(!1)}}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n]);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(c.J9,{initialValues:{firstname:"",lastname:"",nomefantasia:"",empresa:"",email:"",taxvat:"",tipopessoa:"1",rg:"",ie:"",newPassword:"",is_subscribed:!0,terms:!1},validationSchema:A,onSubmit:function(e,t){var n=t.setSubmitting;X(e,n)},children:function(e){var t=e.values,n=e.setFieldValue,r=e.submitForm,a=e.errors;return(0,F.jsxs)(c.l0,{className:i.form,children:[(0,F.jsxs)(p.Z,{container:!0,spacing:2,children:[(0,F.jsx)(p.Z,{item:!0,xs:12,md:6,children:(0,F.jsx)(c.gN,{component:w.Z,name:"firstname",type:"text",label:"Nome",variant:"outlined",margin:"normal",fullWidth:!0})}),(0,F.jsx)(p.Z,{item:!0,xs:12,md:6,children:(0,F.jsx)(c.gN,{component:w.Z,name:"lastname",type:"text",label:"Sobrenome",variant:"outlined",margin:"normal",fullWidth:!0})})]}),(0,F.jsx)(p.Z,{container:!0,spacing:2,children:(0,F.jsx)(p.Z,{item:!0,xs:12,md:6,children:(0,F.jsxs)(c.gN,{component:w.Z,type:"text",select:!0,name:"tipopessoa",label:"Quero me cadastrar como:",variant:"outlined",margin:"normal",placeholder:"Quero me cadastrar como:",required:!0,fullWidth:!0,SelectProps:{multiple:!1},children:[(0,F.jsx)(x.Z,{value:"1",children:"Pessoa F\xedsica"}),(0,F.jsx)(x.Z,{value:"2",children:"Pessoa Jur\xeddica"})]})})}),"2"===t.tipopessoa&&(0,F.jsxs)(p.Z,{container:!0,spacing:2,children:[(0,F.jsx)(p.Z,{item:!0,xs:12,md:6,children:(0,F.jsx)(c.gN,{component:w.Z,name:"nomefantasia",type:"text",label:"Nome Fantasia",variant:"outlined",margin:"normal",fullWidth:!0})}),(0,F.jsx)(p.Z,{item:!0,xs:12,md:6,children:(0,F.jsx)(c.gN,{component:w.Z,name:"empresa",type:"text",label:"Raz\xe3o Social",variant:"outlined",margin:"normal",fullWidth:!0})})]}),(0,F.jsxs)(p.Z,{container:!0,spacing:2,children:[(0,F.jsx)(p.Z,{item:!0,xs:12,md:6,children:(0,F.jsx)(c.gN,{component:w.Z,name:"taxvat",type:"text",label:"1"===t.tipopessoa?"CPF":"CNPJ",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,InputProps:{inputComponent:"1"===t.tipopessoa?N.Z:_.Z}})}),"1"===t.tipopessoa?(0,F.jsx)(p.Z,{item:!0,xs:12,md:6,children:(0,F.jsx)(c.gN,{component:w.Z,name:"rg",type:"text",label:"RG",variant:"outlined",margin:"normal",fullWidth:!0})}):(0,F.jsx)(p.Z,{item:!0,xs:12,md:6,children:(0,F.jsxs)("div",{style:{position:"relative"},children:[(0,F.jsx)(c.gN,{component:w.Z,name:"ie",type:"text",label:"IE",variant:"outlined",margin:"normal",fullWidth:!0,disabled:S}),(0,F.jsxs)("div",{className:i.ieCheckWrapper,children:[(0,F.jsx)("input",{type:"checkbox",onChange:function(){return Q(n)}})," ",(0,F.jsx)("span",{children:"ISENTO"})]})]})})]}),(0,F.jsx)(p.Z,{container:!0,spacing:2,children:(0,F.jsx)(p.Z,{item:!0,xs:12,md:12,children:(0,F.jsx)(c.gN,{component:w.Z,name:"email",type:"email",label:"E-mail",variant:"outlined",margin:"normal",required:!0,fullWidth:!0})})}),(0,F.jsx)(p.Z,{container:!0,spacing:2,children:(0,F.jsx)(p.Z,{item:!0,xs:12,md:12,children:(0,F.jsx)(c.gN,{component:w.Z,name:"newPassword",type:J?"text":"password",label:"Senha",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,InputProps:{endAdornment:(0,F.jsx)(j.Z,{position:"end",children:(0,F.jsx)(Z.Z,{"aria-label":"toggle password visibility",onClick:function(){return T(!J)},edge:"end",children:J?(0,F.jsx)(b.Z,{}):(0,F.jsx)(g.Z,{})})})}})})}),(0,F.jsx)(p.Z,{container:!0,spacing:2,children:(0,F.jsx)(p.Z,{item:!0,xs:12,md:12,style:{textAlign:"left"},children:(0,F.jsx)(m.Z,{control:(0,F.jsx)(u.Z,{value:"remember",color:"primary",checked:t.is_subscribed,onChange:function(e){var t=e.target;return n("is_subscribed",t.checked)}}),label:"Aceito receber comunica\xe7\xe3o de marketing da Pichau"})})}),(0,F.jsx)(p.Z,{container:!0,spacing:2,children:(0,F.jsxs)(p.Z,{item:!0,xs:12,md:12,style:{textAlign:"left"},children:[(0,F.jsx)(m.Z,{control:(0,F.jsx)(c.gN,{component:u.Z,value:"terms",color:"primary",onChange:function(e){var t=e.target;return n("terms",t.checked)}}),label:(0,F.jsxs)(F.Fragment,{children:["Estou ciente e CONCORDO com os"," ",(0,F.jsx)(v.Z,{href:"/termos-de-aceite",target:"_blank",style:{color:"inherit",textDecoration:"underline"},children:"termos de aceite"})," ","e"," ",(0,F.jsx)(v.Z,{href:"/politica-de-privacidade",target:"_blank",style:{color:"inherit",textDecoration:"underline"},children:"pol\xedticas de privacidade"})," ","da Pichau."]})}),a.terms&&(0,F.jsx)(f.Z,{error:!0,children:a.terms})]})}),(0,F.jsx)(d.Z,{type:"submit",fullWidth:!0,variant:"contained",size:"large",color:"primary",onClick:r,disabled:U||V,className:i.submit,children:U||V?"Criando conta...":"Criar conta"})]})}}),B&&(0,F.jsx)(y.default,{title:"Autentica\xe7\xe3o",description:G(B),textCenter:!0,onClose:function(){return h((0,P.b9)())}}),1==I&&(0,F.jsx)(k.Z,{ref:D,sitekey:"6LeFLEolAAAAAKdl2ki8RwGaXYu09UuFtZ3IRcJy",size:"invisible"})]})}},39100:function(e,t,n){var r=n(4942),i=(n(67294),n(14953)),a=(n(82175),n(85893));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}t.Z=function(e){return(0,a.jsx)(i.nv,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({size:"small",autoComplete:0,inputProps:{maxLength:255}},e))}}}]);